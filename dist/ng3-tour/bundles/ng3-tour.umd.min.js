!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("@angular/router")):"function"==typeof define&&define.amd?define("ng3-tour",["exports","@angular/core","@angular/common","rxjs","rxjs/operators","@angular/router"],e):e((t=t||self)["ng3-tour"]={},t.ng.core,t.ng.common,t.rxjs,t.rxjs.operators,t.ng.router)}(this,(function(t,e,o,r,n,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var s=function(){return(s=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};var a=function(){function t(){this.targetExist$=new r.BehaviorSubject(null)}return t.prototype.maxHeight=function(){return Math.round(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight,window.innerHeight))},t.prototype.getSizeAndPosition=function(t){var e=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),r=Math.round(e.top-o.top),n=Math.round(e.left-o.left),i=Math.round(e.bottom-o.top),s=Math.round(e.left-o.left),a=Math.round(e.height||i-r);return{top:r,left:n,bottom:i,right:s,width:Math.round(e.width||s-n),height:a,pageHeight:this.maxHeight()}},t.prototype.resizeTarget=function(t,e){return t.left-=e[0],t.right+=e[0],t.top-=e[1]||e[0],t.bottom+=e[1]||e[0],t.width+=2*e[0],t.height+=2*(e[1]||e[0]),t},t.prototype.getTargetSubject=function(){return this.targetExist$},t.prototype.setTargetSubject=function(t){this.targetExist$.next(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var p={done:{"en-EN":"FINALIZAR","ru-RU":"закр","fr-FR":"fini"},prev:{"en-EN":"ANTERIOR","ru-RU":"пред","fr-FR":"préc"},next:{"en-EN":"SIGUIENTE","ru-RU":"след","fr-FR":"proch"}};var u={className:"",continueIfTargetAbsent:!0,withoutCounter:!1,withoutPrev:!1,customTemplate:!1,smoothScroll:!1,scrollTo:!0,themeColor:"rgb(20, 60, 60)",opacity:.6,placement:"down",arrowToTarget:!0,stepTargetResize:[0],delay:1e3,animatedStep:!0,fixed:!1,backdrop:!0,minWidth:"250px",minHeight:"150px",maxWidth:"400px",maxHeight:"600px",autofocus:!0,closeOnClickOutside:!1},c=function(t){void 0===t&&(t=u);var e=t.className,o=t.continueIfTargetAbsent,r=t.withoutCounter,n=t.withoutPrev,i=t.customTemplate,s=t.smoothScroll,a=t.scrollTo,p=t.themeColor,c=t.opacity,h=t.placement,l=t.arrowToTarget,d=t.stepTargetResize,m=t.maxHeight,g=t.maxWidth,f=t.minHeight,y=t.minWidth,v=t.delay,b=t.animatedStep,S=t.fixed,x=t.backdrop,w=t.autofocus,k=t.closeOnClickOutside;this.className=e,this.placement=h,this.arrowToTarget=l,this.themeColor=p,this.opacity=c,this.backdrop=x,this.customTemplate=i,this.withoutCounter=r,this.withoutPrev=n,this.continueIfTargetAbsent=o,this.stepTargetResize=d,this.maxHeight=m,this.maxWidth=g,this.minHeight=f,this.minWidth=y,this.delay=v,this.animatedStep=b,this.smoothScroll=s,this.scrollTo=a,this.fixed=S,this.autofocus=w,this.closeOnClickOutside=k};var h=function(t){},l={tourStart:h,tourEnd:h,tourBreak:h,next:h,prev:h},d=function(){function t(t,e,n){this.router=t,this.targetService=e,this.tourStarted=!1,this.stepsStream$=new r.BehaviorSubject(null),this.history=[],this.routeChanged=!1,this.presets={},this.tourBreak=l.tourBreak,this.tourEnd=l.tourEnd,this.next=l.next,this.prev=l.prev,this.nextStep=this.nextStep.bind(this),this.prevStep=this.prevStep.bind(this),this.stopTour=this.stopTour.bind(this),this.isBrowser=o.isPlatformBrowser(n),this.isBrowser?this.lang=navigator.language:this.lang=""}return t.prototype.validateOptions=function(t){var e=/^top$|^down$|^left$|^right$|^center$|^right-center$|^left-center$|^right-top$|^left-top$/i,o=!0;return t.steps.forEach((function(t){t.options&&t.options.placement&&(o=e.test(t.options.placement))})),t.tourOptions&&t.tourOptions.placement&&(o=e.test(t.tourOptions.placement)),o},t.prototype.setSteps=function(t){var o=this,r=new c(s({},u,this.presets,t.tourOptions));this.steps=t.steps.map((function(e,n){return e.index=n,e.description&&"object"==typeof e.description&&(e.description=o.defineLocalName(e.description)),e.title&&"object"==typeof e.title&&(e.title=o.defineLocalName(e.title)),e.options=e.options?s({},r,e.options):r,e.total=t.steps.length,e.ctrlBtns=o.defineLocalBtnNames(t.ctrlBtns||p),e})),e.isDevMode()&&(console.log("mode: ",e.isDevMode()),console.log("ng3-tour is initiated with steps:"),console.log(this.steps))},t.prototype.defineLocalName=function(t){var e,o=this;if(!this.isBrowser)return"";if(t.hasOwnProperty(this.lang))e=t[this.lang];else{var r=Object.keys(t),n=r.filter((function(t){return t.includes(o.lang.slice(0,2))}))[0];e=n?t[n]:t[r[0]]}return"string"==typeof e?e:(console.error("Tour configuration error with "+JSON.stringify(t)),"Error")},t.prototype.defineLocalBtnNames=function(t){var e=this,o={};for(var r in t)if(t.hasOwnProperty(r)){var n=void 0;if("string"==typeof t[r])n=t[r];else if("object"==typeof t[r]&&"string"===t[r][this.lang])n=t[r][this.lang];else{var i=Object.keys(t[r]),s=i.filter((function(t){return t.includes(e.lang.slice(0,2))}))[0];"string"==typeof(n=s?t[r][s]:t[r][i[0]])?o[r]=n:this.isBrowser&&(console.error("Tour configuration error with "+JSON.stringify(t)),o[r]="Error")}}return o},t.prototype.initStep=function(t){var e=this.history.length?this.getLastStep():{route:null},o=this.steps[t];this.routeChanged=e.route!==o.route,this.history.push(t),o.route&&this.routeChanged&&this.router.navigate([o.route]),this.stepsStream$.next(o.stepName)},t.prototype.getHistory=function(){return this.history},t.prototype.setPresets=function(t){this.presets=s({},this.presets,t)},t.prototype.resetStep=function(t,e){var o="number"==typeof t?t:this.getStepByName(t).index;this.steps[o]=s({},e)},t.prototype.getStepByName=function(t){return this.steps.filter((function(e){return e.stepName===t}))[0]},t.prototype.getStepByIndex=function(t){return void 0===t&&(t=0),this.steps[t]},t.prototype.getLastStep=function(){return this.history.length?this.steps[this.history.slice(-1)[0]]:null},t.prototype.getStepsStream=function(){return this.stepsStream$},t.prototype.isRouteChanged=function(){return this.routeChanged},t.prototype.setTourStatus=function(t){this.tourStarted=t},t.prototype.getTourStatus=function(){return this.tourStarted},t.prototype.startTour=function(t){if(!this.validateOptions(t))throw new Error("Placement option of the ng3-tour or one of it step is invalid");var e=s({},l,t.tourEvents),o=e.tourBreak,r=e.tourStart,n=e.tourEnd,i=e.next,a=e.prev;r({tourEvent:"Tour start",tour:t}),this.tourBreak=o,this.tourEnd=n,this.next=i,this.prev=a,this.setTourStatus(!0),this.setSteps(t),this.initStep(0)},t.prototype.stopTour=function(){var t=this.getLastStep().index,e=this.steps.length-1;t<e?this.tourBreak({tourEvent:"Tour break",step:t,history:this.history}):e===t&&this.tourEnd({tourEvent:"Tour end",step:t,history:this.history}),this.setTourStatus(!1),this.steps.length=0,this.stepsStream$.next(null),this.history.length=0,this.targetService.setTargetSubject(null)},t.prototype.nextStep=function(){var t=this.getLastStep().index+1;this.next({tourEvent:"Init next",step:t,history:this.history}),this.initStep(t)},t.prototype.prevStep=function(){var t=this.getLastStep().index-1;this.prev({tourEvent:"Init prev",step:t,history:this.history}),this.initStep(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:i.Router},{type:a},{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t}();var m=function(){function t(t,n,i,s,a){this.tourService=t,this.stepTargetService=n,this.elem=i,this.ref=s,this.currentStep=null,this.steps$=null,this.onDestroy=new r.Subject,this.timeouts=[],this.next=new e.EventEmitter,this.prev=new e.EventEmitter,this.done=new e.EventEmitter,this.break=new e.EventEmitter,this.isBrowser=o.isPlatformBrowser(a)}return t.prototype.clickOutsideToClose=function(t){this.currentStep&&this.currentStep.options.closeOnClickOutside&&!this.elem.nativeElement.contains(t.target)&&this.onClose(t)},t.prototype.onResize=function(t){this.target&&this.currentStep&&(this.saveTarget(this.targetElement),this.defineStepPlacement())},t.prototype.ngOnInit=function(){var t=this;this.isBrowser&&(this.stepModalPosition={top:-500,left:-500},this.subscribeToStepsStream(),this.steps$=this.stepTargetService.getTargetSubject().pipe(n.map((function(e){return t.currentStep?t.currentStep:e&&t.tourService.getTourStatus?(t.targetElement=e.target,t.currentStep=t.tourService.getStepByName(e.stepName),t.saveStepData(),t.saveTarget(e.target),t.currentStep):e}))))},t.prototype.ngOnDestroy=function(){this.onDestroy.next(),this.timeouts.forEach((function(t){return clearTimeout(t)}))},t.prototype.subscribeToStepsStream=function(){var t=this;this.tourService.getStepsStream().pipe(n.takeUntil(this.onDestroy),n.map((function(e){if(!e)return t.currentStep=null,e;var o=(t.currentStep&&t.currentStep.options||t.tourService.getStepByIndex().options).themeColor;t.currentStep=null,t.resetClasses();var r=t.tourService.getStepByName(e).options.delay;return t.targetBackground=o,t.tourService.isRouteChanged()?t.timeouts[t.timeouts.length]=setTimeout((function(){return t.checkTarget(e)}),r+100):t.timeouts[t.timeouts.length]=setTimeout((function(){return t.checkTarget(e)}),100),e}))).subscribe()},t.prototype.checkTarget=function(t,e){var o=this;if(void 0===e&&(e=2),t&&this.tourService.getTourStatus()){var r=this.tourService.getStepByName(t).options.delay,n=document.querySelector("[ngtourstep="+t+"]");if(e&&this.tourService.isRouteChanged()&&!n)this.timeouts[this.timeouts.length]=setTimeout((function(){return o.checkTarget(t,e-1)}),r);else if(!n){if(console.warn("Target is missed for step "+t),this.tourService.getStepByName(t).options.continueIfTargetAbsent)this.tourService.getStepByName(t).index+1<this.tourService.getLastStep().total?this.tourService.nextStep():(console.warn("The tour is stopped because of no targets is found  for step "+t+" and next ones"),this.tourService.stopTour(),this.stepTargetService.setTargetSubject(null))}}},t.prototype.resetClasses=function(){var t=this.currentStep,e=t&&t.options||this.tourService.getStepByIndex().options,o=e.arrowToTarget,r=e.animatedStep,n=e.placement,i=e.className,s=o?"with-arrow":"",a=r?t?"animation-on":"fade-on":t?"":"fade-on";this.class=(s+" "+i+" pos-"+n+" "+a).trim()},t.prototype.saveTarget=function(t){var e=this;this.target=this.stepTargetService.resizeTarget(this.stepTargetService.getSizeAndPosition(t),this.currentStep.options.stepTargetResize),this.timeouts[this.timeouts.length]=setTimeout((function(){return e.defineStepPlacement()}),0)},t.prototype.saveStepData=function(){this.resetClasses(),this.targetBackground="transparent"},t.prototype.defineStepPlacement=function(){var t=this,e=document.querySelector(".tour-step-modal");if(e){var o=e.getBoundingClientRect();this.modalHeight=Math.round(o.height?o.height:o.bottom-o.top);var r=Math.round(o.width?o.width:o.right-o.left),n=this.currentStep.options,i=n.placement,s=n.scrollTo,a=this.target,p=a.top,u=a.bottom,c=a.width,h=a.left,l=a.right;/^down$/i.test(i)?this.stepModalPosition={top:u+20,left:Math.round(h-r/2)}:/^top$/i.test(i)?this.stepModalPosition={top:p-this.modalHeight-20,left:Math.round(h-r/2)}:/^left$/i.test(i)?this.stepModalPosition={left:h-r-20,top:p}:/^right$/i.test(i)?this.stepModalPosition={left:l+c+20,top:p}:/^left-top$/i.test(i)?this.stepModalPosition={left:h-r-20,top:p-this.modalHeight+50}:/^right-top$/i.test(i)?this.stepModalPosition={left:l+c+20,top:p-this.modalHeight+50}:/^right-center$/i.test(i)?this.stepModalPosition={right:50,top:Math.round(window.innerHeight/2-this.modalHeight/2)}:/^left-center$/i.test(i)?this.stepModalPosition={left:50,top:Math.round(window.innerHeight/2-this.modalHeight/2)}:/^center$/i.test(i)&&(this.stepModalPosition={left:Math.round(window.innerWidth/2-r/2),top:Math.round(window.innerHeight/2-this.modalHeight/2)}),this.currentStep.options.autofocus&&this.setFocus(e),s&&this.scrollTo()}else this.timeouts[this.timeouts.length]=setTimeout((function(){return t.defineStepPlacement()}),100)},t.prototype.setFocus=function(t){var e=t.querySelector(".tour-btn-next"),o=t.querySelector(".tour-btn-done");e?e.focus():o&&o.focus()},t.prototype.scrollTo=function(){var t=this.currentStep.options,e=t.placement,o=t.fixed,r=this.target.left,n="top"!==e?this.target.top-100:this.target.top-this.modalHeight-50,i=this.currentStep.options.smoothScroll?"smooth":"auto";o?document.documentElement.scroll({top:0,left:0,behavior:i}):document.documentElement.scroll({top:n,left:r,behavior:i})},t.prototype.onNext=function(t){this.next.emit({stepEvent:"next",index:this.currentStep.index+1,history:this.tourService.getHistory()}),this.tourService.nextStep()},t.prototype.onPrev=function(t){this.prev.emit({stepEvent:"prev",index:this.currentStep.index-1,history:this.tourService.getHistory()}),this.tourService.prevStep()},t.prototype.onClose=function(t){this.currentStep.index!==this.currentStep.total-1?this.break.emit({stepEvent:"break",index:this.currentStep.index,history:this.tourService.getHistory()}):this.done.emit({stepEvent:"done",index:this.currentStep.index,history:this.tourService.getHistory()}),this.tourService.stopTour()},t.decorators=[{type:e.Component,args:[{selector:"ng-tour-step-template",template:'<div class="tour-step-wrapper" *ngIf="steps$ | async as step" [ngClass]="class">\n  <ng-tour-step-back\n    *ngIf="step.options.backdrop && target"\n    [themeColor]="step.options.themeColor"\n    [stepBackSize]="target"\n    [position]="step.options.fixed ? \'fixed\' : \'absolute\'"\n    [targetBackground]="targetBackground"\n    [opacity]="step.options.opacity"\n  >\n  </ng-tour-step-back>\n  <div\n    *ngIf="currentStep"\n    class="tour-step-modal"\n    [style.max-width]="step.options.maxWidth"\n    [style.max-height]="step.options.maxHeight"\n    [style.top.px]="stepModalPosition.top"\n    [style.left.px]="stepModalPosition.left"\n    [style.bottom.px]="stepModalPosition.bottom"\n    [style.right.px]="stepModalPosition.right"\n    [style.min-width]="step.options.minWidth"\n    [style.min-height]="step.options.minHeight"\n    [style.position]="step.options.fixed ? \'fixed\' : \'absolute\'"\n    [style.color]="step.options.themeColor"\n  > \n    <div *ngIf="!step.options.customTemplate" class="tour-step-modal__content">\n      <div class="tour-step-modal__header">\n        <h3 class="tour-step-modal__title">\n          {{step.title}}\n        </h3>\n        <button class="tour-btn-close" type="button" (click)="onClose($event)">\n          &times;\n        </button>\n      </div>\n      <div class="tour-step-modal__body">\n        <p class="tour-step-modal__description">\n          {{step.description}}\n        </p>\n      </div>\n      <div class="tour-step-modal__footer">\n        <div *ngIf="!step.withoutCounter" class="tour-step-modal__counter">\n          {{step.index + 1}} de {{step.total}}\n        </div>\n        <button\n          *ngIf="!step.withoutPrev && step.index" \n          type="button" \n          class="tour-btn tour-btn-prev"\n          (click)="onPrev($event)"\n        >\n          {{step.ctrlBtns.prev}}\n        </button>\n        <button\n          *ngIf="step.index + 1 !== step.total"\n          type="button"\n          class="tour-btn tour-btn-next"\n          (click)="onNext($event)"          \n        >\n          {{step.ctrlBtns.next}}\n        </button>\n        <button\n          *ngIf="step.index + 1 === step.total"\n          type="button"\n          class="tour-btn tour-btn-done"\n          (click)="onClose($event)"\n        >\n          {{step.ctrlBtns.done}}\n        </button>\n      </div>\n    </div>\n    \n      <ng-content ></ng-content>\n   \n  </div>\n</div>\n',encapsulation:e.ViewEncapsulation.None,exportAs:"steps$",styles:['.tour-step-wrapper.fade-on .tour-step-modal{opacity:0}.tour-step-wrapper:not(.animation-on) .tour-step-modal{-webkit-animation:.4s ease-in-out fade;animation:.4s ease-in-out fade}.tour-step-wrapper.pos-down.animation-on .tour-step-modal{-webkit-animation:.4s ease-in-out stepDown;animation:.4s ease-in-out stepDown}.tour-step-wrapper.pos-down.with-arrow .tour-step-modal::after{content:"";width:0;height:0;position:absolute;border-bottom:.4rem solid #fff;border-left:.4rem solid transparent;border-right:.4rem solid transparent;top:-.4rem;right:45%}.tour-step-wrapper.pos-top.animation-on .tour-step-modal{-webkit-animation:.4s ease-in-out stepTop;animation:.4s ease-in-out stepTop}.tour-step-wrapper.pos-top.with-arrow .tour-step-modal::after{content:"";width:0;height:0;position:absolute;border-top:.4rem solid #fff;border-left:.4rem solid transparent;border-right:.4rem solid transparent;bottom:-.4rem;right:45%}.tour-step-wrapper.pos-left.animation-on .tour-step-modal{-webkit-animation:.4s ease-in-out stepLeft;animation:.4s ease-in-out stepLeft}.tour-step-wrapper.pos-left.with-arrow .tour-step-modal::after{content:"";width:0;height:0;position:absolute;border-left:.4rem solid #fff;border-top:.4rem solid transparent;border-bottom:.4rem solid transparent;right:-.4rem;top:1rem}.tour-step-wrapper.pos-right.animation-on .tour-step-modal{-webkit-animation:.4s ease-in-out stepRight;animation:.4s ease-in-out stepRight}.tour-step-wrapper.pos-right.with-arrow .tour-step-modal::after{content:"";width:0;height:0;position:absolute;border-right:.4rem solid #fff;border-top:.4rem solid transparent;border-bottom:.4rem solid transparent;left:-.4rem;top:1rem}.tour-step-wrapper.pos-center.animation-on .tour-step-modal{-webkit-animation:.4s ease-in-out fade;animation:.4s ease-in-out fade}.tour-step-modal{background:#fff;border-radius:4px;box-shadow:0 0 12px 4px rgba(0,0,0,.55);z-index:1100}.tour-step-modal__content{padding:.8rem;box-sizing:border-box}.tour-step-modal__header{width:100%;display:flex;justify-content:space-between}.tour-step-modal__title{font-weight:500;font-size:22px}.tour-step-modal__body{padding:1rem 0;min-height:50px;flex-grow:2}.tour-step-modal__description{line-height:24px}.tour-step-modal .tour-btn-close{background:0 0;border:none;color:#a9a9a9;font-size:1.6rem;margin:-5px -5px 0 0;cursor:pointer}.tour-step-modal .tour-btn-close:hover{color:var(--pale-grey)}.tour-step-modal__footer{padding:1px 0;display:flex;justify-content:space-between;align-items:center;justify-self:end;width:100%}.tour-btn{width:auto;height:auto;border-radius:4px;background:0 0;color:grey;cursor:pointer;padding:8px 16px;box-shadow:0 0 2px 2px rgba(0,0,0,.24),inset 0 1px 3px 0 rgba(0,0,0,.16);border:1px solid grey;transition:.3s}.tour-btn:focus,.tour-btn:hover{border-color:#737373;box-shadow:1px 1px 2px 1px rgba(0,0,0,.34);outline:0}@-webkit-keyframes fade{0%{opacity:0}100%{opacity:1}}@keyframes fade{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes stepDown{0%{transform:translateY(30px);opacity:0}100%{transform:translateY(0);opacity:1}}@keyframes stepDown{0%{transform:translateY(30px);opacity:0}100%{transform:translateY(0);opacity:1}}@-webkit-keyframes stepLeft{0%{transform:translateX(-30px);opacity:0}100%{transform:translateX(0);opacity:1}}@keyframes stepLeft{0%{transform:translateX(-30px);opacity:0}100%{transform:translateX(0);opacity:1}}@-webkit-keyframes stepRight{0%{transform:translateX(30px);opacity:0}100%{transform:translateX(0);opacity:1}}@keyframes stepRight{0%{transform:translateX(30px);opacity:0}100%{transform:translateX(0);opacity:1}}@-webkit-keyframes stepTop{0%{transform:translateY(-30px);opacity:0}100%{transform:translateY(0);opacity:1}}@keyframes stepTop{0%{transform:translateY(-30px);opacity:0}100%{transform:translateY(0);opacity:1}}']}]}],t.ctorParameters=function(){return[{type:d},{type:a},{type:e.ElementRef},{type:e.ViewContainerRef},{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t.propDecorators={next:[{type:e.Output}],prev:[{type:e.Output}],done:[{type:e.Output}],break:[{type:e.Output}],clickOutsideToClose:[{type:e.HostListener,args:["document:click",["$event"]]}],onResize:[{type:e.HostListener,args:["window:resize",["$event"]]}]},t}();var g=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"ng-tour-step-back",template:'<div\n    class="tour-step-backdrop"\n    [style.height.px]="stepBackSize.pageHeight"\n    [style.position]="position"\n    [style.opacity]="opacity"\n>\n  <div class="tour-step-backdrop__container" >\n    <div \n      class="tour-step-backdrop__top"\n      [style.height.px]="stepBackSize.top"\n      [style.background]="themeColor"\n    ></div>\n    <div \n      class="tour-step-backdrop__middle"\n      [style.height.px]="stepBackSize.height"\n    >\n      <div \n        class="tour-step-backdrop__left"\n        [style.height.px]="stepBackSize.height"\n        [style.width.px]="stepBackSize.left"\n        [style.background]="themeColor"\n      ></div>\n      <div\n        class="target-window"\n        [style.width.px]="stepBackSize.width"\n        [style.height.px]="stepBackSize.height"\n        [style.background]="targetBackground"\n      >\n      </div>\n      <div\n        class="tour-step-backdrop__right"\n        [style.height.px]="stepBackSize.height"\n        [style.background]="themeColor"\n      ></div>\n    </div>\n    <div\n      class="tour-step-backdrop__bottom"\n      [style.background]="themeColor"\n      [style.height.px]="stepBackSize.pageHeight-stepBackSize.bottom"\n    ></div>\n  </div>\n</div>\n',styles:[".tour-step-backdrop{position:absolute;top:0;left:0;width:100%;z-index:1000}.tour-step-backdrop__container{position:absolute;top:0;left:0;height:100%;width:100%}.tour-step-backdrop__container .tour-step-backdrop__bottom,.tour-step-backdrop__container .tour-step-backdrop__left,.tour-step-backdrop__container .tour-step-backdrop__right,.tour-step-backdrop__container .tour-step-backdrop__top{position:relative}.tour-step-backdrop__container .tour-step-backdrop__top{width:100%}.tour-step-backdrop__container .tour-step-backdrop__middle{width:100%;display:flex;flex-wrap:nowrap}.tour-step-backdrop__container .tour-step-backdrop__middle .tour-step-backdrop__right{width:100%}.tour-step-backdrop__container .tour-step-backdrop__middle .target-window{flex-shrink:0;background:0 0}.tour-step-backdrop__container .tour-step-backdrop__middle .tour-step-backdrop__left{flex-shrink:0}.tour-step-backdrop__container .tour-step-backdrop__bottom{width:100%}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={themeColor:[{type:e.Input}],stepBackSize:[{type:e.Input}],position:[{type:e.Input}],opacity:[{type:e.Input}],targetBackground:[{type:e.Input}]},t}();var f=function(){function t(t,e,n,i,s,a){this.elem=t,this.tourService=e,this.targetService=n,this.viewContainer=i,this.componentFactory=s,this.customTemplate=!1,this.onDestroy=new r.Subject,this.isBrowser=o.isPlatformBrowser(a),this.modalFactory=this.componentFactory.resolveComponentFactory(m)}return t.prototype.ngOnInit=function(){var t=this;if(this.isBrowser){var e,o=this.elem.nativeElement.parentNode,r=Array.prototype.slice.apply(o.childNodes);"app-root"!==o.localName&&console.warn("You placed ngIfTour directive in "+this.elem.nativeElement.localName+" inside "+o.localName+".\n                Are you sure "+o.localName+" better choice then app-root?"),r.filter((function(t){return"ng-tour-step-template"===t.localName})).length?this.tourService.setPresets({customTemplate:!0}):this.targetService.getTargetSubject().pipe(n.takeUntil(this.onDestroy),n.map((function(o){return o&&!t.isCreated?(t.isCreated=!0,e=t.viewContainer.createComponent(t.modalFactory)):!o&&t.isCreated&&(t.isCreated=!1,t.viewContainer.remove(t.viewContainer.indexOf(e))),o}))).subscribe()}},t.prototype.ngOnDestroy=function(){this.onDestroy.next()},t.decorators=[{type:e.Directive,args:[{selector:"[ngIfTour]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:d},{type:a},{type:e.ViewContainerRef},{type:e.ComponentFactoryResolver},{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t}();var y=function(){function t(t,e,n,i){this.elemRef=t,this.tour=e,this.stepTarget=n,this.onDestroy=new r.Subject,this.isBrowser=o.isPlatformBrowser(i)}return t.prototype.ngAfterViewInit=function(){var t=this;this.isBrowser&&this.tour.getStepsStream().pipe(n.takeUntil(this.onDestroy),n.map((function(e){if(e&&t.name===e){var o=t.elemRef.nativeElement,r=t.tour.isRouteChanged()?t.tour.getStepByName(e).options.delay:0;return t.timeout=setTimeout((function(){return t.stepTarget.setTargetSubject({target:o,stepName:e})}),r),e}return e}))).subscribe()},t.prototype.ngOnDestroy=function(){this.onDestroy.next(),clearTimeout(this.timeout)},t.decorators=[{type:e.Directive,args:[{selector:"[ngTourStep]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:d},{type:a},{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t.propDecorators={name:[{type:e.Input,args:["ngTourStep"]}]},t}();var v=function(){function t(t,r){this.tourService=t,this.next=new e.EventEmitter,this.prev=new e.EventEmitter,this.done=new e.EventEmitter,this.break=new e.EventEmitter,this.isBrowser=o.isPlatformBrowser(r)}return t.prototype.ngOnInit=function(){this.isBrowser&&("next"===this.eventType&&this.handleNext(),"prev"===this.eventType&&this.handlePrev(),"close"===this.eventType&&this.handleClose())},t.prototype.onClick=function(t){this.handler()},t.prototype.handleNext=function(){var t=this;return this.handler=function(){t.next.emit({tourEvent:"next",index:t.tourService.getLastStep().index+1,history:t.tourService.getHistory()}),t.tourService.nextStep()}},t.prototype.handlePrev=function(){var t=this;return this.handler=function(){t.prev.emit({tourEvent:"next",index:t.tourService.getLastStep().index-1,history:t.tourService.getHistory()}),t.tourService.prevStep()}},t.prototype.handleClose=function(){var t=this;return this.handler=function(){t.tourService.getLastStep().index+1===t.tourService.getLastStep().total?t.done.emit({tourEvent:"done",index:t.tourService.getLastStep().index,history:t.tourService.getHistory()}):t.break.emit({tourEvent:"break",index:t.tourService.getLastStep().index,history:t.tourService.getHistory()}),t.tourService.stopTour()}},t.decorators=[{type:e.Directive,args:[{selector:"[stepEvent]"}]}],t.ctorParameters=function(){return[{type:d},{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t.propDecorators={eventType:[{type:e.Input,args:["stepEvent"]}],next:[{type:e.Output}],prev:[{type:e.Output}],done:[{type:e.Output}],break:[{type:e.Output}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]},t}();var b=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a,d]}},t.forChild=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:e.NgModule,args:[{declarations:[g,m,y,f,v],entryComponents:[m],imports:[o.CommonModule,i.RouterModule],exports:[g,m,y,f,v]}]}],t}();t.AngularTourModule=b,t.StepEventsDirective=v,t.StepOptions=c,t.StepTargetService=a,t.TourDefaultEvents=l,t.TourRootDirective=f,t.TourService=d,t.TourStepBackComponent=g,t.TourStepComponent=m,t.TourStepDirective=y,t.defaultCtrlBtns=p,t.defaultOptions=u,t.defaultTourEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng3-tour.umd.min.js.map